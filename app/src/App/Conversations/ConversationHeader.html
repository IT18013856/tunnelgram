<div class="d-flex flex-column justify-content-center align-items-center" style="min-height: 150px;">
  <h1>{name}</h1>
  <p>
    Started {_startedDate}
  </p>
  <p>
    {_Conversation.MODE_NAME[$conversation.data.mode]}
    <button class="btn btn-sm btn-link" on:click="set({_showModeHelp: !_showModeHelp})">(?)</button>
  </p>
  {#if _showModeHelp}
    <p class="alert alert-info m-3">
      {_Conversation.MODE_DESCRIPTION[$conversation.data.mode]}
    </p>
  {/if}
</div>

<script>
  import Conversation from '../../Entities/Tunnelgram/Conversation';
  import {SimpleDateFormatter} from '../../Services/SimpleDateFormatter';
  import {conversation, settings} from '../../stores';

  export default {
    oncreate () {
      const {conversation} = this.get();
      this.set({
        _startedDate: (new SimpleDateFormatter(conversation.cdate)).format('wymdhms', 'long')
      });
    },

    data () {
      return {
        _Conversation: Conversation
      };
    },

    computed: {
      name: ({conversation, $settings}) => conversation.getName($settings)
    }
  };
</script>
